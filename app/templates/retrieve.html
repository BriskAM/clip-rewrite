{% extends "base.html" %}

{% block title %}CLIPSHARE - Retrieve a Clip{% endblock %}

{% block content %}
<div class="container">
    <div class="retrieve-form">
        <p>Enter your 4-digit access code to retrieve content:</p>
        
        <form id="retrieveForm">
            <div class="form-group">
                <input type="text" id="accessCode" name="accessCode" maxlength="4" placeholder="0000" pattern="[0-9]{4}" required>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn-primary">Retrieve</button>
            </div>
        </form>
    </div>
    
    <div class="features">
        <h3>Our main features include</h3>
        <ul class="features-list">
            <li>It's Fast</li>
            <li>Simple UI. No Bullshit. Just Works.</li>
            <li>No file size limits, No download speed caps.</li>
            <li>Strict Zero log policy - We don't care what you upload or download.</li>
        </ul>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.getElementById('retrieveForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const accessCode = document.getElementById('accessCode').value.trim();
        
        if (accessCode.length !== 4 || !/^\d{4}$/.test(accessCode)) {
            alert('Please enter a valid 4-digit access code.');
            return;
        }
        
        window.location.href = `/view/${accessCode}`;
    });
</script>
{% endblock %} 